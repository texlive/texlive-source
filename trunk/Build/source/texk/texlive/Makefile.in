# @configure_input@
# Makefile for texlive's extra scripts.
# Public domain.

kpse_include ../make/paths.mk
kpse_include ../make/common.mk
kpse_include ../make/programs.mk

LIVESCRIPTS = simpdftex \
              ebong getnonfreefonts giftopng \
              pdfthumb wordcount.sh \
	      tlmgr

TEXLUARUNNERS = 

manpgs = getnonfreefonts getnonfreefonts-sys

all:  $(LIVESCRIPTS)
default: all

install: install-data install-exec

# Auxiliary files.
install-data::
	for p in $(manpgs); do \
	  $(INSTALL_DATA) $(srcdir)/$$p.man $(man1dir)/$$p.$(manext); \
	done

install-exec:
	-$(SHELL) $(srcdir)/../mkinstalldirs $(scriptdir)
	for s in $(LIVESCRIPTS); do \
	  rm -f $(scriptdir)/$$s ; \
	  $(INSTALL_SCRIPT) $(srcdir)/$$s $(scriptdir)/$$s; \
	done
	rm -f $(scriptdir)/getnonfreefonts-sys
	ln -s getnonfreefonts $(scriptdir)/getnonfreefonts-sys
	for s in $(TEXLUARUNNERS); do \
	  rm -f $(scriptdir)/$$s ; \
	  ln -s texlua-perl-runner $(scriptdir)/$$s; \
	done

kpse_include ../make/clean.mk

config.status: $(srcdir)/configure
	$(SHELL) $(srcdir)/configure --no-create --verbose

Makefile: $(srcdir)/Makefile.in config.status
	$(SHELL) config.status

check:

