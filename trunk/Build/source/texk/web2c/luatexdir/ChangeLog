2009-10-24  Peter Breitenlohner  <peb@mppmu.mpg.de>

	* luatex.web: Use kpse_{in,out}_name_ok(), now in Kpathsea,
	instead of open{in,out}nameok().
	* luatex.defines: Replace open_{in,out}_name_ok by
	kpse_{in,out}_name_ok.

2009-10-07  Peter Breitenlohner  <peb@mppmu.mpg.de>

	* image/pdftoepdf.cc: Adapt to poppler-0.12.

	* FIXME: image/epdf.h, utils/utils.h: Multiple prototypes for
	pdftex_fail, pdftex_warn, and probably others.

2009-09-06  Peter Breitenlohner  <peb@mppmu.mpg.de>

	* am/luatex.am: Adapt to new makecpool with one argument.

2009-09-06  Peter Breitenlohner  <peb@mppmu.mpg.de>

	* lua/luainit.c (dump_name, c_job_name, last_source_name,
	last_lineno): Drop extern declarations (now in texmfmp.h).
	(user_progname): Constify string.
	(lua_initialize): Avoid modifying the const_string 'dump_name'.

2009-09-06  Peter Breitenlohner  <peb@mppmu.mpg.de>

	* utils/synctex.c (synctex_suffix*): Constify strings.

2009-09-04  Peter Breitenlohner  <peb@mppmu.mpg.de>

	* luatangle.ch: Eliminate the unused |end_of_TANGLE| label.

2009-09-02  Peter Breitenlohner  <peb@mppmu.mpg.de>

	* am/libzzip.am: Enable compiler warnings.
	* am/liblua51.am, am/libluatex.am, am/luafontforge.am,
	am/luamisc.am, am/luasocket.am, am/luatex.am: Prepare compiler
	warnings.

2009-08-20  Peter Breitenlohner  <peb@mppmu.mpg.de>

	* lua/lstatslib.c, lua/luainit.c: Drop extern decl of ptexbanner.
	* utils/utils.c: #include <kpathsea/version.h> and drop extern
	decls.

2009-08-17  Peter Breitenlohner  <peb@mppmu.mpg.de>

	* lua/liolib.c (io_popen): Changed Arg1 of shell_cmd_is_allowed().
	* lua/loslibext.c (os_exec, os_spawn, os_execute): Same.

2009-08-16  Peter Breitenlohner  <peb@mppmu.mpg.de>

	* am/luatangle.am: Adapt to web2c-sh.
	* am/luatex.am (luatex_tangle): Use tangle-sh.
	Adapt to tangle-sh and web2c-sh.

2009-06-26  Taco Hoekwater <taco@luatex.org>

        * lua51/lcoco.c, lua51/lcoco.h: disable the coco patch on
	linux+ppc because it crashes the executable.

2009-06-25  Peter Breitenlohner  <peb@mppmu.mpg.de>

	* font/writet1.c, image/epdf.[ch], utils/avlstuff.c:
	remove #include <kpathsea/c-proto.h>.
 	
2009-06-25  Taco Hoekwater <taco@luatex.org>
 	
	* luatexdir: import of luatex release 0.40.6.

2009-06-23  Peter Breitenlohner  <peb@mppmu.mpg.de>

	* lua/luatex.c: drop P?C, P?H, use ANSI C function declarations.

2009-06-23  Peter Breitenlohner  <peb@mppmu.mpg.de>

	* font/writet1.c, image/epdf.c, utils/avlstuff.c:
	#include <stdarg.h>, not <kpathsea/c-vararg.h>.

2009-06-09  Taco Hoekwater <taco@luatex.org>
 	
	* luatexdir: import of luatex release 0.40.4.

2009-06-08  Taco Hoekwater <taco@luatex.org>
 	
	* luatexdir: import of luatex release 0.40.3.
	This affects many files in subdirectories.

2009-06-04  Taco Hoekwater <taco@luatex.org>
	
	* luatexdir: "avoid variable declaration after statement" patch
	from Vladimir Volovich

2009-06-03  Taco Hoekwater <taco@luatex.org>
 	
	* luatexdir/luafontloader/fontforge/fontforge/namelist.c (psaltnames): add
        a dimension specifier, for AIX portability.

2009-06-03  Taco Hoekwater <taco@luatex.org>
 	
	* luatexdir: import of luatex release 0.40.2.
	This affects many files in subdirectories.

2009-05-30  Peter Breitenlohner <peb@mppmu.mpg.de>

	* am/luatex.am (install-exec-hook, uninstall-hook):
	avoid dangling symlinks.

2009-05-25  Peter Breitenlohner <peb@mppmu.mpg.de>

	* am/luatex.am (uninstall-hook): new target to uninstall texlua[c]
	symlinks.

2009-05-25  Karl Berry  <karl@tug.org>

	* am/luatex.am (install-exec-hook): new target to install texlua[c]
	symlinks.

2009-05-08  Taco Hoekwater <taco@luatex.org>
 	
	* luatexdir: import of the current state of luatex, 0.40.1.
	This affects many files in subdirectories.

2009-05-05  Peter Breitenlohner <peb@mppmu.mpg.de>

	* image/pdftoepdf.cc, utils/utils.c: adapt for poppler.

	patches from Norbert Preinig <preining@logic.at>

2009-04-27  Taco Hoekwater <taco@luatex.org>

	* pdf/pdfpage.c: rename exp10 to exp10_arr to solve a 
	conflict with cygwin's <math.h>.
	* font/texfont.h: add #undef quad before definition to suppress a
	compiler warning under cygwin. 

2009-04-22  Taco Hoekwater <taco@luatex.org>

	* luatexdir: import of the current state of luatex, 0.40.0. 
	This affects many files in subdirectories.

2009-04-16  Taco Hoekwater <taco@luatex.org>

	* image/image.h: remove the trick that forced a local png.h

2009-04-16  Taco Hoekwater <taco@luatex.org>

	* luatexdir: import of the current state of luatex, 0.39.0. 
	This affects many files in subdirectories.

2009-03-27  Peter Breitenlohner <peb@mppmu.mpg.de>

	* am/luatex.am (luatex_c_h): avoid to split the C code
	(from Taco).

2009-03-27  Taco Hoekwater <taco@luatex.org>

	* luatexdir: import of the current state of luatex, 0.37.0. 
	This affects many files in subdirectories.

2009-03-05  Peter Breitenlohner <peb@mppmu.mpg.de>

	* image/pdftoepdf.cc: Uninclude <config.h>, included later
	by "epdf.h".

2009-03-03  Peter Breitenlohner  <peb@mppmu.mpg.de>

	* luatangle.ch: use kpse_open_file to locate input files,
	in order to respect WEBINPUTS (ported from tangle.ch).
