diff -ur dvisvgm-1.4.orig/configure.ac dvisvgm-1.4/configure.ac
--- dvisvgm-1.4.orig/configure.ac	2013-08-02 15:04:11.000000000 +0200
+++ dvisvgm-1.4/configure.ac	2013-08-08 14:02:36.000000000 +0200
@@ -146,6 +146,17 @@
 	fi
 fi
 
+# Check if the kpathsea headers are C++ safe
+AC_MSG_CHECKING([if the kpathsea headers are C++ safe])
+AC_LANG_PUSH([C++])
+AC_LINK_IFELSE([AC_LANG_PROGRAM([[#include <kpathsea/kpathsea.h>]],
+                                [[printf("%s\n", concat("one", "two"))]])],
+               [AC_MSG_RESULT([yes])],
+               [AC_MSG_RESULT([no])
+                AC_DEFINE([KPSE_CXX_UNSAFE], 1,
+                          [Define to 1 if the kpathsea headers are not C++ safe.])])
+AC_LANG_POP([C++])
+
 AC_SUBST(DATE)
 AC_SUBST(EXTRA_LIBS)
 AC_SUBST(AM_CPPFLAGS)
diff -ur dvisvgm-1.4.orig/src/FileFinder.cpp dvisvgm-1.4/src/FileFinder.cpp
--- dvisvgm-1.4.orig/src/FileFinder.cpp	2013-08-02 15:04:11.000000000 +0200
+++ dvisvgm-1.4/src/FileFinder.cpp	2013-08-08 13:38:15.000000000 +0200
@@ -18,6 +18,24 @@
 ** along with this program; if not, see <http://www.gnu.org/licenses/>. **
 *************************************************************************/
 
+#ifdef HAVE_CONFIG_H
+#include "config.h"
+#endif
+
+#ifdef MIKTEX
+	#include "MessageException.h"
+	#include "MiKTeXCom.h"
+	static MiKTeXCom *miktex=0;
+#else
+	#ifdef KPSE_CXX_UNSAFE
+	extern "C" {
+	#endif
+	#include <kpathsea/kpathsea.h>
+	#ifdef KPSE_CXX_UNSAFE
+	}
+	#endif
+#endif
+
 #include <cstdlib>
 #include <fstream>
 #include <map>
@@ -28,21 +46,6 @@
 #include "Message.h"
 #include "Process.h"
 
-#ifdef MIKTEX
-	#include "MessageException.h"
-	#include "MiKTeXCom.h"
-	static MiKTeXCom *miktex=0;
-#else
-	// unfortunately, the kpathsea headers are not C++-ready,
-	// so we have to wrap it with some ugly code
-	namespace KPS {
-		extern "C" {
-			#include <kpathsea/kpathsea.h>
-		}
-	}
-	using namespace KPS;
-#endif
-
 // ---------------------------------------------------
 
 static bool _initialized = false;
